# Руководство по запуску проекта "Штатное расписание"

## Описание структуры проекта:

- **client/**  
  - **client.py** — клиентская часть приложения, реализованная на Python, позволяет выполнять CRUD операции над базой данных через консольное меню.

- **server/**  
  - **database.py** — модуль для работы с базой данных PostgreSQL, содержащий методы для выполнения SQL-запросов.
  - **server.py** — серверная часть приложения на Flask, предоставляет REST API для работы с данными.
  
- **docker-compose.yml** — файл конфигурации Docker Compose, используется для развертывания контейнера с PostgreSQL.
- **README.md** — руководство по запуску и использованию проекта.

## Требования:

- Docker и Docker Compose для запуска базы данных.
- Python 3.x и pip для запуска клиентского и серверного приложений.

## Шаги для запуска проекта:

### 1. Запуск контейнера PostgreSQL через Docker Compose

В корне проекта уже есть файл `docker-compose.yml`, который настроит контейнер с PostgreSQL.

1. Откройте терминал и перейдите в корневую папку проекта, где расположен `docker-compose.yml`.
2. Запустите контейнер командой:

   ```bash
   docker-compose up -d
   ```

Это запустит PostgreSQL в фоновом режиме. База данных будет доступна на порту 5432 локального хоста.

### 2. Установка зависимостей Python

Убедитесь, что у вас активировано виртуальное окружение (если используется). Затем установите зависимости для серверной и клиентской части:

```bash
pip install flask psycopg2
```

### 3. Запуск сервера

Перейдите в папку `server` и запустите сервер:

```bash
python server/server.py
```

Сервер начнет слушать запросы на порту 5000 и будет готов к приему запросов от клиента.

### 4. Запуск клиента

В отдельном терминале перейдите в папку `client` и запустите клиент:

```bash
python client/client.py
```

Клиент откроет консольное меню, позволяющее выполнять CRUD операции, такие как создание, обновление, удаление и получение данных о подразделениях, штатных единицах, надбавках и сотрудниках.

## Описание API сервера

Серверное приложение предоставляет следующие эндпоинты для выполнения операций над таблицами базы данных:

- `GET /states`: Получить список всех подразделений.
- `POST /states`: Создать новое подразделение.
- `PUT /states/<id>`: Обновить информацию о подразделении по ID.
- `DELETE /states/<id>`: Удалить подразделение по ID.

- `GET /ranks`: Получить список всех штатных единиц.
- `POST /ranks`: Создать новую штатную единицу.
- `PUT /ranks/<id>`: Обновить информацию о штатной единице по ID.
- `DELETE /ranks/<id>`: Удалить штатную единицу по ID.

- `GET /unstand_allowances`: Получить список всех надбавок за ненормированный рабочий день.
- `POST /unstand_allowances`: Создать новую надбавку.
- `PUT /unstand_allowances/<id>`: Обновить надбавку по ID.
- `DELETE /unstand_allowances/<id>`: Удалить надбавку по ID.
